# 序

最近在扩充钱包地址刷交互，为了做好资金隔离所有的资金都需要从交易所提币至钱包。手动提币时每次都要接2-3个验证码，觉得有点繁琐，就写了个提币的脚本。

目前支持okx和binance这两个交易所，后续可能会在增加新的交易所。



# 注意事项

1. **提币需要申请API，并开通提币权限。提币权限比较敏感！提币结束后记得及时删除相关API。**

2. **子账户没有提币权限，需要用主账户执行。**

3. **binance开通提币权限需要绑定IP，如果你用的是梯子，绑定的是梯子的IP。**

4. **okx的提币费用需要另外支付，提币时需要注意留有足够的手续费。**

5. **binance提币费用从提币金额中扣除，要自己注意计算提币的数量。**

6. **okx只能向地址簿中的白名单提币，提币前需要在提币页面点击地址簿添加地址（一次可以添加20个）。**


# 运行前的配置

## API配置

1. 所有的API 配置都在src目录下的`api_keys.json`文件中，打开文件将对应参数改成自己的即可。
2. okx在创建API时会要求你设置一个密码，这个密码就是填入`password`字段的密码。
## 提币地址配置

1. 提币地址在data目录下的`deposit_address.csv` 文件中配置（你也可以选择自行配置）。
2. **`deposit_address.csv` 文件中有我的示例地址，记得删掉。**
3. 提币地址的字段解释：
   - **wallet_address**: 提币的钱包地址。
   - **tag**: 提某些币种（如Atom、EOS）需要的memo或tag参数，如果没有则留空。
   - **currency**：提币的币种，如ETH。
   - **amount**：提币数量。
   - **chain**：提币的链，可以在交易所提币页面看到（如okx提ETH到以太坊链时为chain为：ETH-ERC20，binance则为: ETH)。
   - **exchange_name**：交易所名字，需要和ccxt调用的交易所名字相同。

## 程序运行配置

- 运行主程序是`src`目录下的multi_exchange_withdraw.py 文件。
- 代码中的 `address_file_path = '../data/deposit_address.csv'` 是配置提币文件的路径地址，有需要可以改成自己的文件路径。
- 配置完成后直接运行`multi_exchange_withdraw.py`文件即可。
- `sleep_time`是设置两次提币的间隔，如果是binance提币，建议这个值30以上（binance提币消耗600权重，binance每个账户每分钟最多1200权重）。

